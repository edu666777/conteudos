<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ci√™ncias 7¬∫ Ano - Seres Vivos e Sa√∫de: Aprenda e Pratique</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
        }
        .tab-button.active {
            background-color: #0369a1; /* Sky-700 */
            color: white;
        }
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
        }
        .accordion-button.open + .accordion-content {
            max-height: 4000px; /* Increased max-height for potentially longer content */
        }
        .quiz-option:disabled {
            cursor: not-allowed;
            opacity: 0.7;
        }
        .correct-answer {
            background-color: #10b981 !important; /* Emerald-500 */
            color: white !important;
            border-color: #059669 !important; /* Emerald-600 */
        }
        .wrong-answer {
            background-color: #ef4444 !important; /* Red-500 */
            color: white !important;
            border-color: #dc2626 !important; /* Red-600 */
        }
        .content-text { /* General text styling for readability */
            font-size: 1rem;
            line-height: 1.6;
        }
        .term-highlight {
            font-family: 'Courier New', Courier, monospace;
            background-color: #f3f4f6; /* gray-100 */
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 0.95rem;
        }
        .example-diagram {
            font-style: italic;
            color: #075985; /* sky-800 for example sentences */
            margin-left: 1rem;
            display: block;
            margin-top: 0.5rem;
        }
         .quiz-question-text {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
    </style>
    <!-- Chosen Palette: Warm Neutrals with Sky Blue accent (Consistent with previous apps) -->
    <!-- Application Structure Plan: Two-section SPA. 'Aprender' section uses an accordion for step-by-step explanations of Biology concepts (classification, viruses, kingdoms), relevant to 7th grade. 'Praticar' section is an interactive quiz with immediate feedback and score tracking. This structure separates learning from application, aiding comprehension and retention. Navigation is via two main buttons. -->
    <!-- Visualization & Content Choices: Report Info: Simplified biology concepts (classification, viruses, kingdoms, health) for 7th grade -> Goal: Inform/Organize -> Viz/Presentation: Accordion in 'Aprender'. Interaction: Expand/collapse. Justification: Breaks down biological information into digestible steps. Report Info: Age-appropriate biology problems & solutions -> Goal: Test knowledge/Compare -> Viz/Presentation: Interactive quiz in 'Praticar'. Interaction: Clickable answers, feedback, score. Justification: Active learning, immediate reinforcement. Library/Method: Vanilla JS & Tailwind CSS. Content presented as styled text. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="bg-stone-100 text-slate-800">

    <div class="container mx-auto max-w-4xl p-4 sm:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-sky-800">Ci√™ncias - 7¬∫ Ano: Seres Vivos e Sa√∫de</h1>
            <p class="text-slate-600 mt-2">Aprenda sobre a classifica√ß√£o da vida, os reinos e os seres microsc√≥picos!</p>
        </header>

        <nav class="flex justify-center mb-8 bg-white p-2 rounded-lg shadow-sm">
            <button id="btn-learn" class="tab-button active flex-1 sm:flex-none text-center py-2 px-6 font-semibold rounded-md transition-colors duration-300">Aprender</button>
            <button id="btn-practice" class="tab-button flex-1 sm:flex-none text-center py-2 px-6 font-semibold rounded-md transition-colors duration-300">Praticar</button>
        </nav>

        <main>
            <section id="learn-section">
                <div class="bg-white p-6 rounded-lg shadow">
                    <h2 class="text-2xl font-bold mb-4 text-sky-700">Explorando a Diversidade da Vida</h2>
                    <p class="mb-6 content-text">O nosso planeta √© cheio de vida! Para entender essa imensa variedade, os cientistas organizam os seres vivos em grupos. Vamos descobrir como essa classifica√ß√£o funciona e conhecer os principais reinos.</p>
                    
                    <div id="accordion-container" class="space-y-3">
                    </div>

                    <div class="mt-6 p-4 bg-sky-50 border border-sky-200 rounded-lg">
                        <h3 class="font-bold text-lg text-sky-800">üí° Fique Ligado!</h3>
                        <ul class="list-disc list-inside mt-2 space-y-1 text-slate-700 content-text">
                            <li><strong class="font-semibold">Classificar √© Organizar:</strong> A classifica√ß√£o ajuda a entender as semelhan√ßas e diferen√ßas entre os seres vivos.</li>
                            <li><strong class="font-semibold">Cinco Grandes Reinos:</strong> Monera, Protoctista (Protista), Fungi, Plantae e Animalia.</li>
                            <li><strong class="font-semibold">V√≠rus s√£o diferentes:</strong> Eles n√£o pertencem a nenhum reino, pois n√£o s√£o formados por c√©lulas.</li>
                            <li><strong class="font-semibold">Microsc√≥picos, mas importantes:</strong> Bact√©rias, fungos, protozo√°rios e algas t√™m pap√©is essenciais na natureza e na nossa vida.</li>
                            <li><strong class="font-semibold">Preven√ß√£o √© o melhor rem√©dio:</strong> Vacina√ß√£o e saneamento b√°sico s√£o fundamentais para evitar doen√ßas causadas por seres microsc√≥picos.</li>
                        </ul>
                    </div>
                </div>
            </section>

            <section id="practice-section" class="hidden">
                 <div class="bg-white p-6 rounded-lg shadow">
                    <h2 class="text-2xl font-bold mb-2 text-sky-700">Hora de Praticar para a Prova!</h2>
                    <p class="mb-6 content-text">Resolva os problemas abaixo para testar seus conhecimentos sobre classifica√ß√£o dos seres vivos, reinos, v√≠rus e sa√∫de.</p>

                    <div id="quiz-container">
                        <p id="question-progress" class="text-center font-semibold text-slate-600 mb-4"></p>
                        <div id="question-area" class="bg-stone-50 p-6 rounded-lg border border-stone-200 text-center">
                            <!-- Question text will be injected here -->
                        </div>
                        <div id="options-container" class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6">
                            <!-- Options will be injected here -->
                        </div>
                        <div id="feedback-container" class="mt-4 p-4 rounded-lg text-center hidden">
                            <p id="feedback-text" class="font-semibold"></p>
                            <p id="feedback-explanation" class="text-sm mt-1"></p>
                        </div>
                        <div class="text-center mt-6">
                            <button id="next-question-btn" class="hidden py-2 px-8 bg-sky-600 text-white font-semibold rounded-lg shadow-md hover:bg-sky-700 transition-colors">Pr√≥xima</button>
                        </div>
                    </div>
                    
                    <div id="score-container" class="hidden text-center py-8">
                        <h3 class="text-2xl font-bold text-sky-800">Quiz Finalizado!</h3>
                        <p id="score-text" class="text-lg mt-2"></p>
                        <div id="score-visual" class="w-full bg-stone-200 rounded-full h-4 my-4 overflow-hidden">
                            <div id="score-bar" class="bg-emerald-500 h-4 rounded-full transition-all duration-500"></div>
                        </div>
                        <button id="restart-quiz-btn" class="mt-6 py-2 px-8 bg-sky-600 text-white font-semibold rounded-lg shadow-md hover:bg-sky-700 transition-colors">Tentar Novamente</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const learnSection = document.getElementById('learn-section');
            const practiceSection = document.getElementById('practice-section');
            const btnLearn = document.getElementById('btn-learn');
            const btnPractice = document.getElementById('btn-practice');

            const accordionContainer = document.getElementById('accordion-container');
            const quizContainer = document.getElementById('quiz-container');
            const scoreContainer = document.getElementById('score-container');
            const questionProgress = document.getElementById('question-progress');
            const questionArea = document.getElementById('question-area'); 
            const optionsContainer = document.getElementById('options-container');
            const feedbackContainer = document.getElementById('feedback-container');
            const feedbackText = document.getElementById('feedback-text');
            const feedbackExplanation = document.getElementById('feedback-explanation');
            const nextQuestionBtn = document.getElementById('next-question-btn');
            const restartQuizBtn = document.getElementById('restart-quiz-btn');
            const scoreTextElement = document.getElementById('score-text');
            const scoreBar = document.getElementById('score-bar');

            const learnData = [
                {
                    title: '1. Classifica√ß√£o dos Seres Vivos',
                    content: 'Classificar os seres vivos √© uma forma de <strong>organiz√°-los em grupos</strong> de acordo com suas semelhan√ßas e diferen√ßas. Isso ajuda os cientistas a estudar e entender a enorme diversidade de vida na Terra.<br><br><strong>Lineu</strong> foi um cientista muito importante que criou um sistema de classifica√ß√£o com categorias hier√°rquicas (Reino, Filo, Classe, Ordem, Fam√≠lia, G√™nero e Esp√©cie) e a <strong>nomenclatura cient√≠fica binomial</strong>, onde cada ser vivo recebe um nome duplo em latim (Ex: <em>Homo sapiens</em>).'
                },
                {
                    title: '2. V√≠rus: Fora dos Reinos',
                    content: 'V√≠rus s√£o seres muito simples e peculiares. Eles s√£o <strong>acelulares</strong>, ou seja, n√£o s√£o formados por c√©lulas. Consistem basicamente em material gen√©tico (DNA ou RNA) envolto por uma c√°psula de prote√≠na chamada <strong>caps√≠deo</strong>.<br><br>Por n√£o terem metabolismo pr√≥prio, eles s√£o considerados <strong>parasitas intracelulares obrigat√≥rios</strong>, o que significa que eles precisam invadir uma c√©lula viva para conseguir se reproduzir. Doen√ßas causadas por v√≠rus s√£o chamadas de <strong>viroses</strong> (ex: gripe, dengue, sarampo, COVID-19), e a <strong>vacina√ß√£o</strong> √© a principal forma de preven√ß√£o.'
                },
                {
                    title: '3. Reino Monera: As Bact√©rias',
                    content: 'Este reino √© formado por seres <strong>unicelulares</strong> (uma √∫nica c√©lula) e <strong>procariontes</strong> (c√©lula sem n√∫cleo organizado). Os principais representantes s√£o as <strong>bact√©rias</strong>.<br><br><ul><li><strong>Estrutura:</strong> Simples, com material gen√©tico solto no citoplasma.</li><li><strong>Import√¢ncia:</strong> Possuem grande import√¢ncia ecol√≥gica, atuando como <strong>decompositoras</strong> (reciclando mat√©ria org√¢nica). Tamb√©m s√£o usadas na produ√ß√£o de alimentos (iogurtes, queijos) e medicamentos. Algumas podem causar doen√ßas.</li></ul>'
                },
                {
                    title: '4. Reino Protoctista (ou Protista)',
                    content: '√â um reino muito diverso, com seres <strong>eucariontes</strong> (c√©lula com n√∫cleo organizado). Inclui dois grandes grupos:<br><br><ul><li><strong>Algas:</strong> S√£o seres <strong>autotr√≥ficos</strong> (produzem seu pr√≥prio alimento pela fotoss√≠ntese). A maioria √© aqu√°tica e s√£o respons√°veis por grande parte da produ√ß√£o de oxig√™nio do planeta.</li><li><strong>Protozo√°rios:</strong> S√£o seres <strong>heterotr√≥ficos</strong> (n√£o produzem seu pr√≥prio alimento). A maioria √© unicelular e se locomove de diferentes formas (usando c√≠lios, flagelos ou pseud√≥podes). Alguns podem causar doen√ßas como a Doen√ßa de Chagas e a mal√°ria.</li></ul>'
                },
                {
                    title: '5. Reino Fungi: Os Fungos',
                    content: 'Este reino inclui os cogumelos, bolores, orelhas-de-pau e leveduras. S√£o seres <strong>eucariontes</strong> e <strong>heterotr√≥ficos por absor√ß√£o</strong> (soltam enzimas no ambiente e absorvem os nutrientes).<br><br><ul><li><strong>Import√¢ncia:</strong> Assim como as bact√©rias, s√£o excelentes <strong>decompositores</strong>. S√£o usados na produ√ß√£o de p√£es, bebidas alco√≥licas, queijos e antibi√≥ticos (como a penicilina). Alguns podem causar doen√ßas chamadas micoses.</li><li><strong>Reprodu√ß√£o:</strong> Geralmente se reproduzem por meio de <strong>esporos</strong>.</li></ul>'
                },
                 {
                    title: '6. Reinos Plantae e Animalia',
                    content: 'Esses s√£o os reinos mais conhecidos por n√≥s!<br><br><strong>Reino Plantae (Plantas):</strong> Formado por seres <strong>eucariontes, multicelulares e autotr√≥ficos fotossintetizantes</strong>. S√£o a base de muitas cadeias alimentares.<br><br><strong>Reino Animalia (Animais):</strong> Formado por seres <strong>eucariontes, multicelulares e heterotr√≥ficos por ingest√£o</strong>. Possuem grande capacidade de locomo√ß√£o e sistemas nervosos complexos.'
                },
                {
                    title: '7. Ambiente, Sa√∫de e Seres Microsc√≥picos',
                    content: 'Muitas doen√ßas s√£o causadas por seres microsc√≥picos (v√≠rus, bact√©rias, protozo√°rios, fungos). A transmiss√£o dessas doen√ßas muitas vezes est√° ligada √†s condi√ß√µes do ambiente.<br><br>Fatores como <strong>falta de saneamento b√°sico, √°gua n√£o tratada e ac√∫mulo de lixo</strong> favorecem a prolifera√ß√£o de vetores (como o mosquito da dengue) e de micro-organismos causadores de doen√ßas como c√≥lera e leptospirose.<br><br>Por isso, al√©m da <strong>vacina√ß√£o</strong>, cuidar do meio ambiente e ter bons h√°bitos de higiene s√£o fundamentais para a sa√∫de de todos.'
                }
            ];

            const quizData = [
                { question: "Por que √© importante classificar os seres vivos?", answer: "Para organizar e facilitar o estudo da diversidade da vida.", options: ["Para dar nomes dif√≠ceis aos animais.", "Para organizar e facilitar o estudo da diversidade da vida.", "Apenas para separar plantas de animais.", "Para saber quais s√£o mais perigosos."], explanation: "A classifica√ß√£o ajuda os cientistas a organizar a imensa variedade de seres vivos, entendendo suas rela√ß√µes e facilitando os estudos." },
                { question: "Qual a principal caracter√≠stica dos v√≠rus?", answer: "S√£o acelulares e precisam de uma c√©lula viva para se reproduzir.", options: ["S√£o bact√©rias muito pequenas.", "S√£o seres unicelulares procariontes.", "S√£o acelulares e precisam de uma c√©lula viva para se reproduzir.", "S√£o um tipo de fungo microsc√≥pico."], explanation: "V√≠rus n√£o s√£o considerados c√©lulas (acelulares) e s√£o parasitas intracelulares obrigat√≥rios, ou seja, dependem de um hospedeiro para se multiplicar." },
                { question: "Qual √© o principal papel ecol√≥gico das bact√©rias e dos fungos?", answer: "Atuar como decompositores, reciclando a mat√©ria.", options: ["Produzir oxig√™nio para a atmosfera.", "Serem a base da cadeia alimentar.", "Atuar como decompositores, reciclando a mat√©ria.", "Causar doen√ßas em todos os animais."], explanation: "As bact√©rias e fungos decompositores s√£o essenciais para devolver nutrientes ao ambiente, reciclando mat√©ria org√¢nica morta." },
                { question: "As algas pertencem a qual reino e qual sua forma de nutri√ß√£o?", answer: "Reino Protoctista, s√£o autotr√≥ficas (fotoss√≠ntese).", options: ["Reino Plantae, s√£o heterotr√≥ficas.", "Reino Monera, s√£o autotr√≥ficas.", "Reino Protoctista, s√£o autotr√≥ficas (fotoss√≠ntese).", "Reino Fungi, s√£o heterotr√≥ficas."], explanation: "Algas s√£o eucariontes, produtoras de seu pr√≥prio alimento (fotoss√≠ntese), e classificadas no Reino Protoctista." },
                { question: "Quem foi o cientista que prop√¥s o sistema de classifica√ß√£o binomial e as categorias hier√°rquicas?", answer: "Lineu", options: ["Darwin", "Arist√≥teles", "Lineu", "Pasteur"], explanation: "Carl von Linn√© (Lineu) √© considerado o 'pai da taxonomia moderna' por criar esse sistema de classifica√ß√£o." },
                { question: "Um ser vivo unicelular e procarionte certamente pertence a qual reino?", answer: "Reino Monera", options: ["Reino Fungi", "Reino Protoctista", "Reino Monera", "Reino Animalia"], explanation: "A caracter√≠stica de ser unicelular e procarionte (sem n√∫cleo definido) √© exclusiva do Reino Monera." },
                { question: "Como os fungos se alimentam?", answer: "Absorvendo nutrientes do ambiente (heterotr√≥ficos por absor√ß√£o).", options: ["Realizando fotoss√≠ntese.", "Ingerindo outros seres vivos.", "Absorvendo nutrientes do ambiente (heterotr√≥ficos por absor√ß√£o).", "Produzindo seu pr√≥prio alimento com qu√≠mica."], explanation: "Fungos s√£o heterotr√≥ficos e liberam enzimas para digerir a mat√©ria externamente, depois absorvem os nutrientes." },
                { question: "Protozo√°rios como a ameba se locomovem usando expans√µes do citoplasma chamadas de:", answer: "Pseud√≥podes", options: ["C√≠lios", "Flagelos", "Esporos", "Pseud√≥podes"], explanation: "Os riz√≥podes, como a ameba, usam 'falsos p√©s' (pseud√≥podes) para se locomover e capturar alimento." },
                { question: "Qual a import√¢ncia da vacina√ß√£o?", answer: "Estimula o corpo a produzir defesas contra v√≠rus e bact√©rias, prevenindo doen√ßas.", options: ["Serve para tratar doen√ßas que j√° temos.", "Mata todos os v√≠rus que entram no corpo.", "Estimula o corpo a produzir defesas contra v√≠rus e bact√©rias, prevenindo doen√ßas.", "√â importante apenas para crian√ßas."], explanation: "A vacina√ß√£o prepara nosso sistema imunol√≥gico para reconhecer e combater agentes infecciosos espec√≠ficos, prevenindo o desenvolvimento da doen√ßa." },
                { question: "A falta de saneamento b√°sico e o consumo de √°gua n√£o tratada podem favorecer a transmiss√£o de qual doen√ßa?", answer: "C√≥lera", options: ["Gripe", "Dengue", "C√≥lera", "Sarampo"], explanation: "A c√≥lera √© uma doen√ßa bacteriana transmitida principalmente pela ingest√£o de √°gua e alimentos contaminados com fezes." },
                { question: "Como os v√≠rus se reproduzem?", answer: "Invadindo uma c√©lula hospedeira e usando sua maquinaria para fazer c√≥pias.", options: ["Por divis√£o bin√°ria, como as bact√©rias.", "Por brotamento, como as leveduras.", "Invadindo uma c√©lula hospedeira e usando sua maquinaria para fazer c√≥pias.", "Eles n√£o se reproduzem, apenas se clonam."], explanation: "V√≠rus s√£o parasitas intracelulares obrigat√≥rios e dependem totalmente de uma c√©lula viva para se replicar." },
                { question: "Qual destes seres vivos N√ÉO √© eucarionte?", answer: "Bact√©ria", options: ["Alga", "Fungo", "Protozo√°rio", "Bact√©ria"], explanation: "As bact√©rias s√£o os √∫nicos seres da lista que s√£o procariontes, ou seja, n√£o possuem n√∫cleo celular organizado." },
                { question: "A produ√ß√£o de p√£o com fermento biol√≥gico utiliza a a√ß√£o de qual tipo de ser vivo?", answer: "Fungos (leveduras)", options: ["V√≠rus", "Bact√©rias", "Fungos (leveduras)", "Algas"], explanation: "As leveduras s√£o fungos unicelulares que realizam a fermenta√ß√£o, liberando g√°s carb√¥nico que faz a massa do p√£o crescer." },
                { question: "Doen√ßas como dengue e zika s√£o transmitidas principalmente por:", answer: "Falta de saneamento e √°gua parada, que favorecem o vetor.", options: ["Contato direto com pessoas doentes.", "Falta de saneamento e √°gua parada, que favorecem o vetor.", "Consumo de alimentos contaminados.", "Pelo ar, atrav√©s da tosse."], explanation: "A dengue √© transmitida pelo mosquito Aedes aegypti, que se reproduz em √°gua parada. O controle do vetor √© a principal preven√ß√£o." },
                { question: "Os cogumelos e orelhas-de-pau s√£o exemplos de seres do Reino:", answer: "Fungi", options: ["Plantae", "Animalia", "Protoctista", "Fungi"], explanation: "Esses s√£o os corpos de frutifica√ß√£o (estruturas reprodutivas) de alguns tipos de fungos." }
            ];
            
            let currentQuestionIndex = 0;
            let score = 0;
            let shuffledQuizData = [];

            function switchView(view) {
                if (view === 'learn') {
                    learnSection.classList.remove('hidden');
                    practiceSection.classList.add('hidden');
                    btnLearn.classList.add('active');
                    btnPractice.classList.remove('active');
                } else {
                    learnSection.classList.add('hidden');
                    practiceSection.classList.remove('hidden');
                    btnLearn.classList.remove('active');
                    btnPractice.classList.add('active');
                    startQuiz();
                }
            }

            btnLearn.addEventListener('click', () => switchView('learn'));
            btnPractice.addEventListener('click', () => switchView('practice'));

            function createAccordion() {
                accordionContainer.innerHTML = '';
                learnData.forEach(item => {
                    const div = document.createElement('div');
                    div.className = 'border border-stone-200 rounded-lg';
                    div.innerHTML = `
                        <button class="accordion-button w-full p-4 text-left font-semibold text-lg flex justify-between items-center hover:bg-stone-50 transition-colors">
                            <span>${item.title}</span>
                            <span class="transform transition-transform duration-300 text-sky-600">&#9662;</span>
                        </button>
                        <div class="accordion-content">
                            <div class="p-4 border-t border-stone-200 text-slate-700 prose max-w-none content-text">
                                ${item.content}
                            </div>
                        </div>
                    `;
                    accordionContainer.appendChild(div);
                });

                document.querySelectorAll('.accordion-button').forEach(button => {
                    button.addEventListener('click', () => {
                        const icon = button.querySelector('span:last-child');
                        const isOpen = button.classList.toggle('open');
                        icon.style.transform = isOpen ? 'rotate(180deg)' : 'rotate(0deg)';
                        if (isOpen) {
                            document.querySelectorAll('.accordion-button.open').forEach(openButton => {
                                if (openButton !== button) {
                                    openButton.classList.remove('open');
                                    openButton.querySelector('span:last-child').style.transform = 'rotate(0deg)';
                                }
                            });
                        }
                    });
                });
            }

            function shuffleArray(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
                return array;
            }

            function startQuiz() {
                currentQuestionIndex = 0;
                score = 0;
                shuffledQuizData = shuffleArray([...quizData]);
                quizContainer.classList.remove('hidden');
                scoreContainer.classList.add('hidden');
                showQuestion();
            }

            function showQuestion() {
                feedbackContainer.classList.add('hidden');
                nextQuestionBtn.classList.add('hidden');

                const questionData = shuffledQuizData[currentQuestionIndex];
                questionProgress.textContent = `Quest√£o ${currentQuestionIndex + 1} de ${shuffledQuizData.length}`;
                
                questionArea.innerHTML = `<p class="quiz-question-text">${questionData.question}</p>`;

                optionsContainer.innerHTML = '';
                let currentOptions = shuffleArray([...questionData.options]); 

                currentOptions.forEach(option => {
                    const button = document.createElement('button');
                    button.innerHTML = option; 
                    button.className = "quiz-option w-full p-3 border-2 border-stone-300 rounded-lg hover:bg-stone-200 transition-colors";
                    button.addEventListener('click', () => selectAnswer(option, questionData.answer, questionData.explanation));
                    optionsContainer.appendChild(button);
                });
            }

            function selectAnswer(selectedOption, correctAnswer, explanation) {
                const buttons = optionsContainer.querySelectorAll('button');
                let isCorrect = selectedOption === correctAnswer;

                if (isCorrect) {
                    score++;
                    feedbackText.textContent = 'üéâ Correto!';
                    feedbackContainer.className = 'mt-4 p-4 rounded-lg text-center bg-emerald-100 border border-emerald-200 text-emerald-800';
                } else {
                    feedbackText.textContent = 'ü§î Incorreto!';
                    feedbackContainer.className = 'mt-4 p-4 rounded-lg text-center bg-red-100 border border-red-200 text-red-800';
                }

                feedbackExplanation.innerHTML = `<strong>Explica√ß√£o:</strong> ${explanation}`;
                feedbackContainer.classList.remove('hidden');

                buttons.forEach(button => {
                    button.disabled = true;
                    if (button.innerHTML === correctAnswer) { 
                        button.classList.add('correct-answer');
                    } else if (button.innerHTML === selectedOption && !isCorrect) {
                        button.classList.add('wrong-answer');
                    }
                });

                nextQuestionBtn.classList.remove('hidden');
            }
            
            function showScore() {
                quizContainer.classList.add('hidden');
                scoreContainer.classList.remove('hidden');
                scoreTextElement.textContent = `Voc√™ acertou ${score} de ${shuffledQuizData.length} quest√µes!`;
                const percentage = (shuffledQuizData.length > 0) ? (score / shuffledQuizData.length) * 100 : 0;
                scoreBar.style.width = `${percentage}%`;
            }

            nextQuestionBtn.addEventListener('click', () => {
                currentQuestionIndex++;
                if (currentQuestionIndex < shuffledQuizData.length) {
                    showQuestion();
                } else {
                    showScore();
                }
            });
            
            restartQuizBtn.addEventListener('click', startQuiz);

            createAccordion();
            switchView('learn');
        });
    </script>
</body>
</html>
