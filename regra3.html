<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Regra de 3 Simples e Composta - 8º Ano: Aprenda e Pratique</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        .tab-button.active { background-color: #0369a1; color: white; }
        .accordion-content { max-height: 0; overflow: hidden; transition: max-height 0.5s ease-out; }
        .accordion-button.open + .accordion-content { max-height: 1000px; }
        .quiz-option:disabled { cursor: not-allowed; opacity: 0.7; }
        .correct-answer { background-color: #10b981 !important; color: white !important; border-color: #059669 !important; }
        .wrong-answer { background-color: #ef4444 !important; color: white !important; border-color: #dc2626 !important; }
    </style>
</head>
<body class="bg-stone-100 text-slate-800">
    <div class="flex flex-col sm:flex-row gap-2 justify-center mt-4">
        <a href="index.html" class="inline-block px-6 py-2 bg-stone-400 text-white font-semibold rounded-lg shadow hover:bg-stone-500 transition-colors">
            ⬅ Voltar para o Início
        </a>
    </div>
    <div class="container mx-auto max-w-4xl p-4 sm:p-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl sm:text-4xl font-bold text-sky-800">Regra de 3 Simples e Composta - 8º Ano</h1>
            <p class="text-slate-600 mt-2">Aprenda como resolver problemas usando regra de 3 simples e composta, com exemplos e exercícios interativos!</p>
        </header>

        <nav class="flex justify-center mb-8 bg-white p-2 rounded-lg shadow-sm">
            <button id="btn-learn" class="tab-button active flex-1 sm:flex-none text-center py-2 px-6 font-semibold rounded-md transition-colors duration-300">Aprender</button>
            <button id="btn-practice" class="tab-button flex-1 sm:flex-none text-center py-2 px-6 font-semibold rounded-md transition-colors duration-300">Praticar</button>
        </nav>

        <main>
            <section id="learn-section">
                <div class="mb-6">
                    <h2 class="text-xl font-bold text-sky-700 mb-2">O que é Regra de 3 Simples?</h2>
                    <p class="mb-4">A regra de 3 simples é utilizada para resolver problemas que envolvem duas grandezas diretamente ou inversamente proporcionais. Exemplo: Se 4 lápis custam R$8, quanto custam 7 lápis?</p>
                    <div class="bg-white rounded-lg shadow p-4 mb-4">
                        <strong>Exemplo:</strong><br>
                        4 lápis — R$8<br>
                        7 lápis — x<br>
                        <span class="block mt-2">Montando a proporção: <br>4/7 = 8/x &rarr; x = (7 × 8) / 4 = R$14</span>
                    </div>
                </div>
                <div class="mb-6">
                    <h2 class="text-xl font-bold text-sky-700 mb-2">O que é Regra de 3 Composta?</h2>
                    <p class="mb-4">A regra de 3 composta é usada quando há mais de duas grandezas envolvidas. Exemplo: Se 3 máquinas produzem 600 peças em 4 horas, quantas peças 5 máquinas produzem em 6 horas?</p>
                    <div class="bg-white rounded-lg shadow p-4 mb-4">
                        <strong>Exemplo:</strong><br>
                        Máquinas | Peças | Horas<br>
                        3        | 600   | 4<br>
                        5        | x     | 6<br>
                        <span class="block mt-2">Montando a proporção:<br>
                        x = (5 × 6 × 600) / (3 × 4) = 1500 peças</span>
                    </div>
                </div>
                <div class="mb-6">
                    <h2 class="text-xl font-bold text-sky-700 mb-2">Dicas para Resolver</h2>
                    <ul class="list-disc ml-6">
                        <li>Identifique se as grandezas são diretamente ou inversamente proporcionais.</li>
                        <li>Monte a tabela e organize os dados.</li>
                        <li>Monte a proporção e resolva a equação.</li>
                    </ul>
                </div>
            </section>
            <section id="practice-section" class="hidden">
                <h2 class="text-xl font-bold text-sky-700 mb-4">Pratique!</h2>
                <div id="quiz-container"></div>
                <div class="flex justify-between mt-6">
                    <button id="prev-question-btn" class="px-4 py-2 bg-stone-300 text-slate-700 rounded shadow hover:bg-stone-400">Anterior</button>
                    <button id="next-question-btn" class="px-4 py-2 bg-sky-700 text-white rounded shadow hover:bg-sky-800">Próxima</button>
                </div>
                <div id="score-section" class="mt-6 text-center hidden"></div>
                <div class="flex justify-center mt-4">
                    <button id="restart-quiz-btn" class="px-6 py-2 bg-pink-700 text-white font-semibold rounded-lg shadow hover:bg-pink-800 transition-colors hidden">Tentar Novamente</button>
                </div>
            </section>
        </main>
    </div>
    <script>
        const quizData = [
            {
                question: "Se 5 cadernos custam R$25, quanto custam 8 cadernos?",
                options: ["R$35", "R$40", "R$45", "R$50"],
                answer: "R$40",
                explanation: "Regra de 3 simples: 5/8 = 25/x → x = (8×25)/5 = R$40."
            },
            {
                question: "Se 4 pessoas levam 6 dias para pintar uma casa, quantos dias 8 pessoas levariam?",
                options: ["3 dias", "6 dias", "9 dias", "12 dias"],
                answer: "3 dias",
                explanation: "Regra de 3 simples inversa: Mais pessoas, menos tempo. 4/8 = x/6 → x = (4×6)/8 = 3 dias."
            },
            {
                question: "Se 2 máquinas produzem 400 peças em 5 horas, quantas peças 3 máquinas produzem em 5 horas?",
                options: ["400", "600", "800", "1000"],
                answer: "600",
                explanation: "Regra de 3 simples: 2/3 = 400/x → x = (3×400)/2 = 600."
            },
            {
                question: "Se 3 máquinas produzem 600 peças em 4 horas, quantas peças 5 máquinas produzem em 6 horas?",
                options: ["900", "1200", "1500", "1800"],
                answer: "1500",
                explanation: "Regra de 3 composta: x = (5×6×600)/(3×4) = 1500."
            },
            {
                question: "Se 6 operários constroem um muro em 10 dias, quantos dias 3 operários levariam?",
                options: ["5 dias", "10 dias", "15 dias", "20 dias"],
                answer: "20 dias",
                explanation: "Regra de 3 simples inversa: Menos operários, mais tempo. 6/3 = 10/x → x = (6×10)/3 = 20 dias."
            },
            {
                question: "Se 4 carros transportam 800 kg em 2 viagens, quantos kg 6 carros transportam em 3 viagens?",
                options: ["1200 kg", "1800 kg", "2400 kg", "3600 kg"],
                answer: "1800 kg",
                explanation: "Regra de 3 composta: x = (6×3×800)/(4×2) = 1800 kg."
            },
            {
                question: "Se 7 metros de tecido custam R$56, quanto custam 10 metros?",
                options: ["R$70", "R$80", "R$90", "R$100"],
                answer: "R$80",
                explanation: "Regra de 3 simples: 7/10 = 56/x → x = (10×56)/7 = R$80."
            },
            {
                question: "Se 5 pessoas consomem 20 litros de água em 2 dias, quantos litros 8 pessoas consomem em 3 dias?",
                options: ["48 litros", "60 litros", "80 litros", "96 litros"],
                answer: "48 litros",
                explanation: "Regra de 3 composta: x = (8×3×20)/(5×2) = 48 litros."
            },
            {
                question: "Se 3 professores corrigem 90 provas em 6 horas, quantas provas 5 professores corrigem em 4 horas?",
                options: ["100", "120", "150", "180"],
                answer: "100",
                explanation: "Regra de 3 composta: x = (5×4×90)/(3×6) = 100."
            },
            {
                question: "Se 2 caminhões transportam 500 kg em 5 viagens, quantos kg 4 caminhões transportam em 10 viagens?",
                options: ["1000 kg", "2000 kg", "2500 kg", "4000 kg"],
                answer: "2000 kg",
                explanation: "Regra de 3 composta: x = (4×10×500)/(2×5) = 2000 kg."
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let shuffledQuizData = [];
        let lastAnswerWasCorrect = false;

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
        }

        function switchView(view) {
            document.getElementById('learn-section').classList.toggle('hidden', view !== 'learn');
            document.getElementById('practice-section').classList.toggle('hidden', view !== 'practice');
        }

        document.getElementById('btn-learn').addEventListener('click', () => {
            switchView('learn');
        });
        document.getElementById('btn-practice').addEventListener('click', () => {
            startQuiz();
            switchView('practice');
        });

        function startQuiz() {
            shuffledQuizData = [...quizData];
            shuffleArray(shuffledQuizData);
            currentQuestionIndex = 0;
            score = 0;
            lastAnswerWasCorrect = false;
            document.getElementById('score-section').classList.add('hidden');
            document.getElementById('restart-quiz-btn').classList.add('hidden');
            showQuestion();
        }

        function showQuestion() {
            const container = document.getElementById('quiz-container');
            container.innerHTML = '';
            const q = shuffledQuizData[currentQuestionIndex];
            const questionElem = document.createElement('div');
            questionElem.className = 'mb-4';
            questionElem.innerHTML = `<div class="font-semibold mb-2">${q.question}</div>`;
            q.options.forEach(opt => {
                const btn = document.createElement('button');
                btn.className = 'quiz-option px-4 py-2 m-1 border rounded shadow bg-white hover:bg-stone-200';
                btn.textContent = opt;
                btn.onclick = () => selectAnswer(btn, q.answer, q.explanation);
                container.appendChild(btn);
            });
            container.appendChild(questionElem);
        }

        function selectAnswer(selectedBtn, correctAnswer, explanation) {
            const options = document.querySelectorAll('.quiz-option');
            options.forEach(btn => {
                btn.disabled = true;
                if (btn.textContent === correctAnswer) {
                    btn.classList.add('correct-answer');
                } else if (btn === selectedBtn) {
                    btn.classList.add('wrong-answer');
                }
            });
            lastAnswerWasCorrect = selectedBtn.textContent === correctAnswer;
            if (lastAnswerWasCorrect) score++;
            const container = document.getElementById('quiz-container');
            const exp = document.createElement('div');
            exp.className = 'mt-2 text-sm text-slate-700';
            exp.innerHTML = `<strong>Explicação:</strong> ${explanation}`;
            container.appendChild(exp);
        }

        document.getElementById('next-question-btn').addEventListener('click', () => {
            if (currentQuestionIndex < shuffledQuizData.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                showScore();
            }
        });
        document.getElementById('prev-question-btn').addEventListener('click', () => {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
            }
        });

        function showScore() {
            document.getElementById('quiz-container').innerHTML = '';
            const scoreSection = document.getElementById('score-section');
            scoreSection.innerHTML = `<div class="text-2xl font-bold text-sky-700">Você acertou ${score} de ${shuffledQuizData.length} questões!</div>`;
            scoreSection.classList.remove('hidden');
            document.getElementById('restart-quiz-btn').classList.remove('hidden');
        }

        document.getElementById('restart-quiz-btn').addEventListener('click', startQuiz);

        document.addEventListener('DOMContentLoaded', () => {
            switchView('learn');
        });
    </script>
</body>
</html>
